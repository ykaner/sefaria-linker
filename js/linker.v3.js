/*! For license information please see linker.v3.js.LICENSE.txt */
export function linkerFunction(){var e={584:e=>{var t={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function i(e){return(!e.style||"none"!=e.style.display)&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||"true"!=e.getAttribute("aria-hidden")||e.className&&e.className.indexOf&&-1!==e.className.indexOf("fallback-image"))}e.exports=function(e,n={}){"function"==typeof n&&(n={visibilityChecker:n});var r={minScore:20,minContentLength:140,visibilityChecker:i};n=Object.assign(r,n);var o=e.querySelectorAll("p, pre, article"),a=e.querySelectorAll("div > br");if(a.length){var s=new Set(o);[].forEach.call(a,(function(e){s.add(e.parentNode)})),o=Array.from(s)}var l=0;return[].some.call(o,(function(e){if(!n.visibilityChecker(e))return!1;var i=e.className+" "+e.id;if(t.unlikelyCandidates.test(i)&&!t.okMaybeItsACandidate.test(i))return!1;if(e.matches("li p"))return!1;var r=e.textContent.trim().length;return!(r<n.minContentLength)&&(l+=Math.sqrt(r-n.minContentLength))>n.minScore}))}},591:e=>{function t(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(e){return e.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._allowedVideoRegex=t.allowedVideoRegex||this.REGEXPS.videos,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let e=function(e){if(e.nodeType==e.TEXT_NODE)return`${e.nodeName} ("${e.textContent}")`;let t=Array.from(e.attributes||[],(function(e){return`${e.name}="${e.value}"`})).join(" ");return`<${e.localName} ${t}>`};this.log=function(){if("undefined"!=typeof console){let t=Array.from(arguments,(t=>t&&t.nodeType==this.ELEMENT_NODE?e(t):t));t.unshift("Reader: (Readability)"),console.log.apply(console,t)}else if("undefined"!=typeof dump){var t=Array.prototype.map.call(arguments,(function(t){return t&&t.nodeName?e(t):t})).join(" ");dump("Reader: (Readability) "+t+"\n")}}}else this.log=function(){}}t.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var i=e.length-1;i>=0;i--){var n=e[i],r=n.parentNode;r&&(t&&!t.call(this,n,i,e)||r.removeChild(n))}},_replaceNodeTags:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const i of e)this._setNodeTag(i,t)},_forEachNode:function(e,t){Array.prototype.forEach.call(e,t,this)},_findNode:function(e,t){return Array.prototype.find.call(e,t,this)},_someNode:function(e,t){return Array.prototype.some.call(e,t,this)},_everyNode:function(e,t){return Array.prototype.every.call(e,t,this)},_concatNodeLists:function(){var e=Array.prototype.slice,t=e.call(arguments).map((function(t){return e.call(t)}));return Array.prototype.concat.apply([],t)},_getAllNodesWithTag:function(e,t){return e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map((function(t){var i=e.getElementsByTagName(t);return Array.isArray(i)?i:Array.from(i)})))},_cleanClasses:function(e){var t=this._classesToPreserve,i=(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return-1!=t.indexOf(e)})).join(" ");for(i?e.setAttribute("class",i):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_fixRelativeUris:function(e){var t=this._doc.baseURI,i=this._doc.documentURI;function n(e){if(t==i&&"#"==e.charAt(0))return e;try{return new URL(e,t).href}catch(e){}return e}var r=this._getAllNodesWithTag(e,["a"]);this._forEachNode(r,(function(e){var t=e.getAttribute("href");if(t)if(0===t.indexOf("javascript:"))if(1===e.childNodes.length&&e.childNodes[0].nodeType===this.TEXT_NODE){var i=this._doc.createTextNode(e.textContent);e.parentNode.replaceChild(i,e)}else{for(var r=this._doc.createElement("span");e.firstChild;)r.appendChild(e.firstChild);e.parentNode.replaceChild(r,e)}else e.setAttribute("href",n(t))}));var o=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(o,(function(e){var t=e.getAttribute("src"),i=e.getAttribute("poster"),r=e.getAttribute("srcset");if(t&&e.setAttribute("src",n(t)),i&&e.setAttribute("poster",n(i)),r){var o=r.replace(this.REGEXPS.srcsetUrl,(function(e,t,i,r){return n(t)+(i||"")+r}));e.setAttribute("srcset",o)}}))},_simplifyNestedElements:function(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&(!t.id||!t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var i=t.children[0],n=0;n<t.attributes.length;n++)i.setAttribute(t.attributes[n].name,t.attributes[n].value);t.parentNode.replaceChild(i,t),t=i;continue}}t=this._getNextNode(t)}},_getArticleTitle:function(){var e=this._doc,t="",i="";try{"string"!=typeof(t=i=e.title.trim())&&(t=i=this._getInnerText(e.getElementsByTagName("title")[0]))}catch(e){}var n=!1;function r(e){return e.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(t))n=/ [\\\/>»] /.test(t),r(t=i.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"))<3&&(t=i.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(-1!==t.indexOf(": ")){var o=this._concatNodeLists(e.getElementsByTagName("h1"),e.getElementsByTagName("h2")),a=t.trim();this._someNode(o,(function(e){return e.textContent.trim()===a}))||(r(t=i.substring(i.lastIndexOf(":")+1))<3?t=i.substring(i.indexOf(":")+1):r(i.substr(0,i.indexOf(":")))>5&&(t=i))}else if(t.length>150||t.length<15){var s=e.getElementsByTagName("h1");1===s.length&&(t=this._getInnerText(s[0]))}var l=r(t=t.trim().replace(this.REGEXPS.normalize," "));return l<=4&&(!n||l!=r(i.replace(/[\|\-\\\/>»]+/g,""))-1)&&(t=i),t},_prepDocument:function(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode:function(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs:function(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),(function(e){for(var t=e.nextSibling,i=!1;(t=this._nextNode(t))&&"BR"==t.tagName;){i=!0;var n=t.nextSibling;t.parentNode.removeChild(t),t=n}if(i){var r=this._doc.createElement("p");for(e.parentNode.replaceChild(r,e),t=r.nextSibling;t;){if("BR"==t.tagName){var o=this._nextNode(t.nextSibling);if(o&&"BR"==o.tagName)break}if(!this._isPhrasingContent(t))break;var a=t.nextSibling;r.appendChild(t),t=a}for(;r.lastChild&&this._isWhitespace(r.lastChild);)r.removeChild(r.lastChild);"P"===r.parentNode.tagName&&this._setNodeTag(r.parentNode,"DIV")}}))},_setNodeTag:function(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var i=e.ownerDocument.createElement(t);e.firstChild;)i.appendChild(e.firstChild);e.parentNode.replaceChild(i,e),e.readability&&(i.readability=e.readability);for(var n=0;n<e.attributes.length;n++)try{i.setAttribute(e.attributes[n].name,e.attributes[n].value)}catch(e){}return i},_prepArticle:function(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,(function(e){this._cleanMatchedNodes(e,(function(e,i){return this.REGEXPS.shareElements.test(i)&&e.textContent.length<t}))})),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),(function(e){return 0===e.getElementsByTagName("img").length+e.getElementsByTagName("embed").length+e.getElementsByTagName("object").length+e.getElementsByTagName("iframe").length&&!this._getInnerText(e,!1)})),this._forEachNode(this._getAllNodesWithTag(e,["br"]),(function(e){var t=this._nextNode(e.nextSibling);t&&"P"==t.tagName&&e.parentNode.removeChild(e)})),this._forEachNode(this._getAllNodesWithTag(e,["table"]),(function(e){var t=this._hasSingleTagInsideElement(e,"TBODY")?e.firstElementChild:e;if(this._hasSingleTagInsideElement(t,"TR")){var i=t.firstElementChild;if(this._hasSingleTagInsideElement(i,"TD")){var n=i.firstElementChild;n=this._setNodeTag(n,this._everyNode(n.childNodes,this._isPhrasingContent)?"P":"DIV"),e.parentNode.replaceChild(n,e)}}}))},_initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext:function(e){var t=this._getNextNode(e,!0);return e.parentNode.removeChild(e),t},_getNextNode:function(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do{e=e.parentNode}while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity:function(e,t){var i=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),n=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);return i.length&&n.length?1-n.filter((e=>!i.includes(e))).join(" ").length/n.join(" ").length:0},_checkByline:function(e,t){if(this._articleByline)return!1;if(void 0!==e.getAttribute)var i=e.getAttribute("rel"),n=e.getAttribute("itemprop");return!(!("author"===i||n&&-1!==n.indexOf("author")||this.REGEXPS.byline.test(t))||!this._isValidByline(e.textContent)||(this._articleByline=e.textContent.trim(),0))},_getNodeAncestors:function(e,t){t=t||0;for(var i=0,n=[];e.parentNode&&(n.push(e.parentNode),!t||++i!==t);)e=e.parentNode;return n},_grabArticle:function(e){this.log("**** grabArticle ****");var t=this._doc,i=null!==e;if(!(e=e||this._doc.body))return this.log("No body found in document. Abort."),null;for(var n=e.innerHTML;;){this.log("Starting grabArticle loop");var r=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),o=[],a=this._doc.documentElement;let q=!0;for(;a;){"HTML"===a.tagName&&(this._articleLang=a.getAttribute("lang"));var s=a.className+" "+a.id;if(this._isProbablyVisible(a))if("true"!=a.getAttribute("aria-modal")||"dialog"!=a.getAttribute("role"))if(this._checkByline(a,s))a=this._removeAndGetNext(a);else if(q&&this._headerDuplicatesTitle(a))this.log("Removing header: ",a.textContent.trim(),this._articleTitle.trim()),q=!1,a=this._removeAndGetNext(a);else{if(r){if(this.REGEXPS.unlikelyCandidates.test(s)&&!this.REGEXPS.okMaybeItsACandidate.test(s)&&!this._hasAncestorTag(a,"table")&&!this._hasAncestorTag(a,"code")&&"BODY"!==a.tagName&&"A"!==a.tagName){this.log("Removing unlikely candidate - "+s),a=this._removeAndGetNext(a);continue}if(this.UNLIKELY_ROLES.includes(a.getAttribute("role"))){this.log("Removing content with role "+a.getAttribute("role")+" - "+s),a=this._removeAndGetNext(a);continue}}if("DIV"!==a.tagName&&"SECTION"!==a.tagName&&"HEADER"!==a.tagName&&"H1"!==a.tagName&&"H2"!==a.tagName&&"H3"!==a.tagName&&"H4"!==a.tagName&&"H5"!==a.tagName&&"H6"!==a.tagName||!this._isElementWithoutContent(a)){if(-1!==this.DEFAULT_TAGS_TO_SCORE.indexOf(a.tagName)&&o.push(a),"DIV"===a.tagName){for(var l=null,c=a.firstChild;c;){var h=c.nextSibling;if(this._isPhrasingContent(c))null!==l?l.appendChild(c):this._isWhitespace(c)||(l=t.createElement("p"),a.replaceChild(l,c),l.appendChild(c));else if(null!==l){for(;l.lastChild&&this._isWhitespace(l.lastChild);)l.removeChild(l.lastChild);l=null}c=h}if(this._hasSingleTagInsideElement(a,"P")&&this._getLinkDensity(a)<.25){var d=a.children[0];a.parentNode.replaceChild(d,a),a=d,o.push(a)}else this._hasChildBlockElement(a)||(a=this._setNodeTag(a,"P"),o.push(a))}a=this._getNextNode(a)}else a=this._removeAndGetNext(a)}else a=this._removeAndGetNext(a);else this.log("Removing hidden node - "+s),a=this._removeAndGetNext(a)}var u=[];this._forEachNode(o,(function(e){if(e.parentNode&&void 0!==e.parentNode.tagName){var t=this._getInnerText(e);if(!(t.length<25)){var i=this._getNodeAncestors(e,5);if(0!==i.length){var n=0;n+=1,n+=t.split(",").length,n+=Math.min(Math.floor(t.length/100),3),this._forEachNode(i,(function(e,t){if(e.tagName&&e.parentNode&&void 0!==e.parentNode.tagName){if(void 0===e.readability&&(this._initializeNode(e),u.push(e)),0===t)var i=1;else i=1===t?2:3*t;e.readability.contentScore+=n/i}}))}}}}));for(var p=[],f=0,m=u.length;f<m;f+=1){var g=u[f],y=g.readability.contentScore*(1-this._getLinkDensity(g));g.readability.contentScore=y,this.log("Candidate:",g,"with score "+y);for(var b=0;b<this._nbTopCandidates;b++){var v=p[b];if(!v||y>v.readability.contentScore){p.splice(b,0,g),p.length>this._nbTopCandidates&&p.pop();break}}}var E,_=p[0]||null,N=!1;if(null===_||"BODY"===_.tagName){for(_=t.createElement("DIV"),N=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),_.appendChild(e.firstChild);e.appendChild(_),this._initializeNode(_)}else if(_){for(var x=[],T=1;T<p.length;T++)p[T].readability.contentScore/_.readability.contentScore>=.75&&x.push(this._getNodeAncestors(p[T]));if(x.length>=3)for(E=_.parentNode;"BODY"!==E.tagName;){for(var S=0,A=0;A<x.length&&S<3;A++)S+=Number(x[A].includes(E));if(S>=3){_=E;break}E=E.parentNode}_.readability||this._initializeNode(_),E=_.parentNode;for(var w=_.readability.contentScore,C=w/3;"BODY"!==E.tagName;)if(E.readability){var L=E.readability.contentScore;if(L<C)break;if(L>w){_=E;break}w=E.readability.contentScore,E=E.parentNode}else E=E.parentNode;for(E=_.parentNode;"BODY"!=E.tagName&&1==E.children.length;)E=(_=E).parentNode;_.readability||this._initializeNode(_)}var I=t.createElement("DIV");i&&(I.id="readability-content");for(var O=Math.max(10,.2*_.readability.contentScore),D=(E=_.parentNode).children,k=0,P=D.length;k<P;k++){var R=D[k],M=!1;if(this.log("Looking at sibling node:",R,R.readability?"with score "+R.readability.contentScore:""),this.log("Sibling has score",R.readability?R.readability.contentScore:"Unknown"),R===_)M=!0;else{var U=0;if(R.className===_.className&&""!==_.className&&(U+=.2*_.readability.contentScore),R.readability&&R.readability.contentScore+U>=O)M=!0;else if("P"===R.nodeName){var B=this._getLinkDensity(R),H=this._getInnerText(R),F=H.length;(F>80&&B<.25||F<80&&F>0&&0===B&&-1!==H.search(/\.( |$)/))&&(M=!0)}}M&&(this.log("Appending node:",R),-1===this.ALTER_TO_DIV_EXCEPTIONS.indexOf(R.nodeName)&&(this.log("Altering sibling:",R,"to div."),R=this._setNodeTag(R,"DIV")),I.appendChild(R),D=E.children,k-=1,P-=1)}if(this._debug&&this.log("Article content pre-prep: "+I.innerHTML),this._prepArticle(I),this._debug&&this.log("Article content post-prep: "+I.innerHTML),N)_.id="readability-page-1",_.className="page";else{var j=t.createElement("DIV");for(j.id="readability-page-1",j.className="page";I.firstChild;)j.appendChild(I.firstChild);I.appendChild(j)}this._debug&&this.log("Article content after paging: "+I.innerHTML);var G=!0,W=this._getInnerText(I,!0).length;if(W<this._charThreshold)if(G=!1,e.innerHTML=n,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:I,textLength:W});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:I,textLength:W});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:I,textLength:W});else{if(this._attempts.push({articleContent:I,textLength:W}),this._attempts.sort((function(e,t){return t.textLength-e.textLength})),!this._attempts[0].textLength)return null;I=this._attempts[0].articleContent,G=!0}if(G){var z=[E,_].concat(this._getNodeAncestors(E));return this._someNode(z,(function(e){if(!e.tagName)return!1;var t=e.getAttribute("dir");return!!t&&(this._articleDir=t,!0)})),I}}},_isValidByline:function(e){return("string"==typeof e||e instanceof String)&&(e=e.trim()).length>0&&e.length<100},_unescapeHtmlEntities:function(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,(function(e,i){return t[i]})).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,(function(e,t,i){var n=parseInt(t||i,t?16:10);return String.fromCharCode(n)}))},_getJSONLD:function(e){var t,i=this._getAllNodesWithTag(e,["script"]);return this._forEachNode(i,(function(e){if(!t&&"application/ld+json"===e.getAttribute("type"))try{var i=e.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),n=JSON.parse(i);if(!n["@context"]||!n["@context"].match(/^https?\:\/\/schema\.org$/))return;if(!n["@type"]&&Array.isArray(n["@graph"])&&(n=n["@graph"].find((function(e){return(e["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)}))),!n||!n["@type"]||!n["@type"].match(this.REGEXPS.jsonLdArticleTypes))return;if(t={},"string"==typeof n.name&&"string"==typeof n.headline&&n.name!==n.headline){var r=this._getArticleTitle(),o=this._textSimilarity(n.name,r)>.75,a=this._textSimilarity(n.headline,r)>.75;t.title=a&&!o?n.headline:n.name}else"string"==typeof n.name?t.title=n.name.trim():"string"==typeof n.headline&&(t.title=n.headline.trim());return n.author&&("string"==typeof n.author.name?t.byline=n.author.name.trim():Array.isArray(n.author)&&n.author[0]&&"string"==typeof n.author[0].name&&(t.byline=n.author.filter((function(e){return e&&"string"==typeof e.name})).map((function(e){return e.name.trim()})).join(", "))),"string"==typeof n.description&&(t.excerpt=n.description.trim()),void(n.publisher&&"string"==typeof n.publisher.name&&(t.siteName=n.publisher.name.trim()))}catch(e){this.log(e.message)}})),t||{}},_getArticleMetadata:function(e){var t={},i={},n=this._doc.getElementsByTagName("meta"),r=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,o=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(n,(function(e){var t=e.getAttribute("name"),n=e.getAttribute("property"),a=e.getAttribute("content");if(a){var s=null,l=null;n&&(s=n.match(r))&&(l=s[0].toLowerCase().replace(/\s/g,""),i[l]=a.trim()),!s&&t&&o.test(t)&&(l=t,a&&(l=l.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),i[l]=a.trim()))}})),t.title=e.title||i["dc:title"]||i["dcterm:title"]||i["og:title"]||i["weibo:article:title"]||i["weibo:webpage:title"]||i.title||i["twitter:title"],t.title||(t.title=this._getArticleTitle()),t.byline=e.byline||i["dc:creator"]||i["dcterm:creator"]||i.author,t.excerpt=e.excerpt||i["dc:description"]||i["dcterm:description"]||i["og:description"]||i["weibo:article:description"]||i["weibo:webpage:description"]||i.description||i["twitter:description"],t.siteName=e.siteName||i["og:site_name"],t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t},_isSingleImage:function(e){return"IMG"===e.tagName||1===e.children.length&&""===e.textContent.trim()&&this._isSingleImage(e.children[0])},_unwrapNoscriptImages:function(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,(function(e){for(var t=0;t<e.attributes.length;t++){var i=e.attributes[t];switch(i.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(i.value))return}e.parentNode.removeChild(e)}));var i=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(i,(function(t){var i=e.createElement("div");if(i.innerHTML=t.innerHTML,this._isSingleImage(i)){var n=t.previousElementSibling;if(n&&this._isSingleImage(n)){var r=n;"IMG"!==r.tagName&&(r=n.getElementsByTagName("img")[0]);for(var o=i.getElementsByTagName("img")[0],a=0;a<r.attributes.length;a++){var s=r.attributes[a];if(""!==s.value&&("src"===s.name||"srcset"===s.name||/\.(jpg|jpeg|png|webp)/i.test(s.value))){if(o.getAttribute(s.name)===s.value)continue;var l=s.name;o.hasAttribute(l)&&(l="data-old-"+l),o.setAttribute(l,s.value)}}t.parentNode.replaceChild(i.firstElementChild,n)}}}))},_removeScripts:function(e){this._removeNodes(this._getAllNodesWithTag(e,["script","noscript"]))},_hasSingleTagInsideElement:function(e,t){return 1==e.children.length&&e.children[0].tagName===t&&!this._someNode(e.childNodes,(function(e){return e.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(e.textContent)}))},_isElementWithoutContent:function(e){return e.nodeType===this.ELEMENT_NODE&&0==e.textContent.trim().length&&(0==e.children.length||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement:function(e){return this._someNode(e.childNodes,(function(e){return this.DIV_TO_P_ELEMS.has(e.tagName)||this._hasChildBlockElement(e)}))},_isPhrasingContent:function(e){return e.nodeType===this.TEXT_NODE||-1!==this.PHRASING_ELEMS.indexOf(e.tagName)||("A"===e.tagName||"DEL"===e.tagName||"INS"===e.tagName)&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace:function(e){return e.nodeType===this.TEXT_NODE&&0===e.textContent.trim().length||e.nodeType===this.ELEMENT_NODE&&"BR"===e.tagName},_getInnerText:function(e,t){t=void 0===t||t;var i=e.textContent.trim();return t?i.replace(this.REGEXPS.normalize," "):i},_getCharCount:function(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles:function(e){if(e&&"svg"!==e.tagName.toLowerCase()){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);-1!==this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName)&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var i=e.firstElementChild;null!==i;)this._cleanStyles(i),i=i.nextElementSibling}},_getLinkDensity:function(e){var t=this._getInnerText(e).length;if(0===t)return 0;var i=0;return this._forEachNode(e.getElementsByTagName("a"),(function(e){var t=e.getAttribute("href"),n=t&&this.REGEXPS.hashUrl.test(t)?.3:1;i+=this._getInnerText(e).length*n})),i/t},_getClassWeight:function(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return"string"==typeof e.className&&""!==e.className&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),"string"==typeof e.id&&""!==e.id&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean:function(e,t){var i=-1!==["object","embed","iframe"].indexOf(t);this._removeNodes(this._getAllNodesWithTag(e,[t]),(function(e){if(i){for(var t=0;t<e.attributes.length;t++)if(this._allowedVideoRegex.test(e.attributes[t].value))return!1;if("object"===e.tagName&&this._allowedVideoRegex.test(e.innerHTML))return!1}return!0}))},_hasAncestorTag:function(e,t,i,n){i=i||3,t=t.toUpperCase();for(var r=0;e.parentNode;){if(i>0&&r>i)return!1;if(e.parentNode.tagName===t&&(!n||n(e.parentNode)))return!0;e=e.parentNode,r++}return!1},_getRowAndColumnCount:function(e){for(var t=0,i=0,n=e.getElementsByTagName("tr"),r=0;r<n.length;r++){var o=n[r].getAttribute("rowspan")||0;o&&(o=parseInt(o,10)),t+=o||1;for(var a=0,s=n[r].getElementsByTagName("td"),l=0;l<s.length;l++){var c=s[l].getAttribute("colspan")||0;c&&(c=parseInt(c,10)),a+=c||1}i=Math.max(i,a)}return{rows:t,columns:i}},_markDataTables:function(e){for(var t=e.getElementsByTagName("table"),i=0;i<t.length;i++){var n=t[i];if("presentation"!=n.getAttribute("role"))if("0"!=n.getAttribute("datatable"))if(n.getAttribute("summary"))n._readabilityDataTable=!0;else{var r=n.getElementsByTagName("caption")[0];if(r&&r.childNodes.length>0)n._readabilityDataTable=!0;else if(["col","colgroup","tfoot","thead","th"].some((function(e){return!!n.getElementsByTagName(e)[0]})))this.log("Data table because found data-y descendant"),n._readabilityDataTable=!0;else if(n.getElementsByTagName("table")[0])n._readabilityDataTable=!1;else{var o=this._getRowAndColumnCount(n);o.rows>=10||o.columns>4?n._readabilityDataTable=!0:n._readabilityDataTable=o.rows*o.columns>10}}else n._readabilityDataTable=!1;else n._readabilityDataTable=!1}},_fixLazyImages:function(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),(function(e){if(e.src&&this.REGEXPS.b64DataUrl.test(e.src)){if("image/svg+xml"===this.REGEXPS.b64DataUrl.exec(e.src)[1])return;for(var t=!1,i=0;i<e.attributes.length;i++){var n=e.attributes[i];if("src"!==n.name&&/\.(jpg|jpeg|png|webp)/i.test(n.value)){t=!0;break}}if(t){var r=e.src.search(/base64\s*/i)+7;e.src.length-r<133&&e.removeAttribute("src")}}if(!(e.src||e.srcset&&"null"!=e.srcset)||-1!==e.className.toLowerCase().indexOf("lazy"))for(var o=0;o<e.attributes.length;o++)if("src"!==(n=e.attributes[o]).name&&"srcset"!==n.name&&"alt"!==n.name){var a=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(n.value)?a="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(n.value)&&(a="src"),a)if("IMG"===e.tagName||"PICTURE"===e.tagName)e.setAttribute(a,n.value);else if("FIGURE"===e.tagName&&!this._getAllNodesWithTag(e,["img","picture"]).length){var s=this._doc.createElement("img");s.setAttribute(a,n.value),e.appendChild(s)}}}))},_getTextDensity:function(e,t){var i=this._getInnerText(e,!0).length;if(0===i)return 0;var n=0,r=this._getAllNodesWithTag(e,t);return this._forEachNode(r,(e=>n+=this._getInnerText(e,!0).length)),n/i},_cleanConditionally:function(e,t){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[t]),(function(e){var i=function(e){return e._readabilityDataTable},n="ul"===t||"ol"===t;if(!n){var r=0,o=this._getAllNodesWithTag(e,["ul","ol"]);this._forEachNode(o,(e=>r+=this._getInnerText(e).length)),n=r/this._getInnerText(e).length>.9}if("table"===t&&i(e))return!1;if(this._hasAncestorTag(e,"table",-1,i))return!1;if(this._hasAncestorTag(e,"code"))return!1;var a=this._getClassWeight(e);if(this.log("Cleaning Conditionally",e),a+0<0)return!0;if(this._getCharCount(e,",")<10){for(var s=e.getElementsByTagName("p").length,l=e.getElementsByTagName("img").length,c=e.getElementsByTagName("li").length-100,h=e.getElementsByTagName("input").length,d=this._getTextDensity(e,["h1","h2","h3","h4","h5","h6"]),u=0,p=this._getAllNodesWithTag(e,["object","embed","iframe"]),f=0;f<p.length;f++){for(var m=0;m<p[f].attributes.length;m++)if(this._allowedVideoRegex.test(p[f].attributes[m].value))return!1;if("object"===p[f].tagName&&this._allowedVideoRegex.test(p[f].innerHTML))return!1;u++}var g=this._getLinkDensity(e),y=this._getInnerText(e).length,b=l>1&&s/l<.5&&!this._hasAncestorTag(e,"figure")||!n&&c>s||h>Math.floor(s/3)||!n&&d<.9&&y<25&&(0===l||l>2)&&!this._hasAncestorTag(e,"figure")||!n&&a<25&&g>.2||a>=25&&g>.5||1===u&&y<75||u>1;if(n&&b){for(var v=0;v<e.children.length;v++)if(e.children[v].children.length>1)return b;if(l==e.getElementsByTagName("li").length)return!1}return b}return!1}))},_cleanMatchedNodes:function(e,t){for(var i=this._getNextNode(e,!0),n=this._getNextNode(e);n&&n!=i;)n=t.call(this,n,n.className+" "+n.id)?this._removeAndGetNext(n):this._getNextNode(n)},_cleanHeaders:function(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,(function(e){let t=this._getClassWeight(e)<0;return t&&this.log("Removing header with low class weight:",e),t}))},_headerDuplicatesTitle:function(e){if("H1"!=e.tagName&&"H2"!=e.tagName)return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive:function(e){return(this._flags&e)>0},_removeFlag:function(e){this._flags=this._flags&~e},_isProbablyVisible:function(e){return(!e.style||"none"!=e.style.display)&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||"true"!=e.getAttribute("aria-hidden")||e.className&&e.className.indexOf&&-1!==e.className.indexOf("fallback-image"))},parse:function(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var i=this._getArticleMetadata(t);this._articleTitle=i.title;var n=this._grabArticle();if(!n)return null;if(this.log("Grabbed: "+n.innerHTML),this._postProcessContent(n),!i.excerpt){var r=n.getElementsByTagName("p");r.length>0&&(i.excerpt=r[0].textContent.trim())}var o=n.textContent;return{title:this._articleTitle,byline:i.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(n),textContent:o,length:o.length,excerpt:i.excerpt,siteName:i.siteName||this._articleSiteName}}},e.exports=t},126:(e,t,i)=>{var n=i(591),r=i(584);e.exports={Readability:n,isProbablyReaderable:r}},368:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,i){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,i)}function i(e,n,r){return i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,i,n){var r=[null];r.push.apply(r,i);var o=new(Function.bind.apply(e,r));return n&&t(o,n.prototype),o},i.apply(null,arguments)}function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var o=Object.hasOwnProperty,a=Object.setPrototypeOf,s=Object.isFrozen,l=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,h=Object.freeze,d=Object.seal,u=Object.create,p="undefined"!=typeof Reflect&&Reflect,f=p.apply,m=p.construct;f||(f=function(e,t,i){return e.apply(t,i)}),h||(h=function(e){return e}),d||(d=function(e){return e}),m||(m=function(e,t){return i(e,n(t))});var g,y=C(Array.prototype.forEach),b=C(Array.prototype.pop),v=C(Array.prototype.push),E=C(String.prototype.toLowerCase),_=C(String.prototype.toString),N=C(String.prototype.match),x=C(String.prototype.replace),T=C(String.prototype.indexOf),S=C(String.prototype.trim),A=C(RegExp.prototype.test),w=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return m(g,t)});function C(e){return function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return f(e,t,n)}}function L(e,t,i){i=i||E,a&&a(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var o=i(r);o!==r&&(s(t)||(t[n]=o),r=o)}e[r]=!0}return e}function I(e){var t,i=u(null);for(t in e)!0===f(o,e,[t])&&(i[t]=e[t]);return i}function O(e,t){for(;null!==e;){var i=c(e,t);if(i){if(i.get)return C(i.get);if("function"==typeof i.value)return C(i.value)}e=l(e)}return function(e){return console.warn("fallback value for",e),null}}var D=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=h(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B=h(["#text"]),H=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=d(/<%[\w\W]*|[\w\W]*%>/gm),q=d(/\${[\w\W]*}/gm),X=d(/^data-[\-\w.\u00B7-\uFFFF]/),V=d(/^aria-[\-\w]+$/),$=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=d(/^(?:\w+script|data):/i),K=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=d(/^html$/i),Z=function(){return"undefined"==typeof window?null:window};return function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),r=function(e){return t(e)};if(r.version="2.4.5",r.removed=[],!i||!i.document||9!==i.document.nodeType)return r.isSupported=!1,r;var o=i.document,a=i.document,s=i.DocumentFragment,l=i.HTMLTemplateElement,c=i.Node,d=i.Element,u=i.NodeFilter,p=i.NamedNodeMap,f=void 0===p?i.NamedNodeMap||i.MozNamedAttrMap:p,m=i.HTMLFormElement,g=i.DOMParser,C=i.trustedTypes,Q=d.prototype,ee=O(Q,"cloneNode"),te=O(Q,"nextSibling"),ie=O(Q,"childNodes"),ne=O(Q,"parentNode");if("function"==typeof l){var re=a.createElement("template");re.content&&re.content.ownerDocument&&(a=re.content.ownerDocument)}var oe=function(t,i){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(r)&&(n=i.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(C,o),ae=oe?oe.createHTML(""):"",se=a,le=se.implementation,ce=se.createNodeIterator,he=se.createDocumentFragment,de=se.getElementsByTagName,ue=o.importNode,pe={};try{pe=I(a).documentMode?a.documentMode:{}}catch(e){}var fe={};r.isSupported="function"==typeof ne&&le&&void 0!==le.createHTMLDocument&&9!==pe;var me,ge,ye=W,be=z,ve=q,Ee=X,_e=V,Ne=Y,xe=K,Te=$,Se=null,Ae=L({},[].concat(n(D),n(k),n(P),n(M),n(B))),we=null,Ce=L({},[].concat(n(H),n(F),n(j),n(G))),Le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ie=null,Oe=null,De=!0,ke=!0,Pe=!1,Re=!0,Me=!1,Ue=!1,Be=!1,He=!1,Fe=!1,je=!1,Ge=!1,We=!0,ze=!1,qe=!0,Xe=!1,Ve={},$e=null,Ye=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ke=null,Je=L({},["audio","video","img","source","image","track"]),Ze=null,Qe=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",nt=it,rt=!1,ot=null,at=L({},[et,tt,it],_),st=["application/xhtml+xml","text/html"],lt=null,ct=a.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},dt=function(t){lt&&lt===t||(t&&"object"===e(t)||(t={}),t=I(t),me=me=-1===st.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,ge="application/xhtml+xml"===me?_:E,Se="ALLOWED_TAGS"in t?L({},t.ALLOWED_TAGS,ge):Ae,we="ALLOWED_ATTR"in t?L({},t.ALLOWED_ATTR,ge):Ce,ot="ALLOWED_NAMESPACES"in t?L({},t.ALLOWED_NAMESPACES,_):at,Ze="ADD_URI_SAFE_ATTR"in t?L(I(Qe),t.ADD_URI_SAFE_ATTR,ge):Qe,Ke="ADD_DATA_URI_TAGS"in t?L(I(Je),t.ADD_DATA_URI_TAGS,ge):Je,$e="FORBID_CONTENTS"in t?L({},t.FORBID_CONTENTS,ge):Ye,Ie="FORBID_TAGS"in t?L({},t.FORBID_TAGS,ge):{},Oe="FORBID_ATTR"in t?L({},t.FORBID_ATTR,ge):{},Ve="USE_PROFILES"in t&&t.USE_PROFILES,De=!1!==t.ALLOW_ARIA_ATTR,ke=!1!==t.ALLOW_DATA_ATTR,Pe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Re=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Me=t.SAFE_FOR_TEMPLATES||!1,Ue=t.WHOLE_DOCUMENT||!1,Fe=t.RETURN_DOM||!1,je=t.RETURN_DOM_FRAGMENT||!1,Ge=t.RETURN_TRUSTED_TYPE||!1,He=t.FORCE_BODY||!1,We=!1!==t.SANITIZE_DOM,ze=t.SANITIZE_NAMED_PROPS||!1,qe=!1!==t.KEEP_CONTENT,Xe=t.IN_PLACE||!1,Te=t.ALLOWED_URI_REGEXP||Te,nt=t.NAMESPACE||it,Le=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Le.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(ke=!1),je&&(Fe=!0),Ve&&(Se=L({},n(B)),we=[],!0===Ve.html&&(L(Se,D),L(we,H)),!0===Ve.svg&&(L(Se,k),L(we,F),L(we,G)),!0===Ve.svgFilters&&(L(Se,P),L(we,F),L(we,G)),!0===Ve.mathMl&&(L(Se,M),L(we,j),L(we,G))),t.ADD_TAGS&&(Se===Ae&&(Se=I(Se)),L(Se,t.ADD_TAGS,ge)),t.ADD_ATTR&&(we===Ce&&(we=I(we)),L(we,t.ADD_ATTR,ge)),t.ADD_URI_SAFE_ATTR&&L(Ze,t.ADD_URI_SAFE_ATTR,ge),t.FORBID_CONTENTS&&($e===Ye&&($e=I($e)),L($e,t.FORBID_CONTENTS,ge)),qe&&(Se["#text"]=!0),Ue&&L(Se,["html","head","body"]),Se.table&&(L(Se,["tbody"]),delete Ie.tbody),h&&h(t),lt=t)},ut=L({},["mi","mo","mn","ms","mtext"]),pt=L({},["foreignobject","desc","title","annotation-xml"]),ft=L({},["title","style","font","a","script"]),mt=L({},k);L(mt,P),L(mt,R);var gt=L({},M);L(gt,U);var yt=function(e){v(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ae}catch(t){e.remove()}}},bt=function(e,t){try{v(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){v(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!we[e])if(Fe||je)try{yt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function(e){var t,i;if(He)e="<remove></remove>"+e;else{var n=N(e,/^[\r\n\t ]+/);i=n&&n[0]}"application/xhtml+xml"===me&&nt===it&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var r=oe?oe.createHTML(e):e;if(nt===it)try{t=(new g).parseFromString(r,me)}catch(e){}if(!t||!t.documentElement){t=le.createDocument(nt,"template",null);try{t.documentElement.innerHTML=rt?ae:r}catch(e){}}var o=t.body||t.documentElement;return e&&i&&o.insertBefore(a.createTextNode(i),o.childNodes[0]||null),nt===it?de.call(t,Ue?"html":"body")[0]:Ue?t.documentElement:o},Et=function(e){return ce.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},_t=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Nt=function(e,t,i){fe[e]&&y(fe[e],(function(e){e.call(r,t,i,lt)}))},xt=function(e){var t,i;if(Nt("beforeSanitizeElements",e,null),(i=e)instanceof m&&("string"!=typeof i.nodeName||"string"!=typeof i.textContent||"function"!=typeof i.removeChild||!(i.attributes instanceof f)||"function"!=typeof i.removeAttribute||"function"!=typeof i.setAttribute||"string"!=typeof i.namespaceURI||"function"!=typeof i.insertBefore||"function"!=typeof i.hasChildNodes))return yt(e),!0;if(A(/[\u0080-\uFFFF]/,e.nodeName))return yt(e),!0;var n=ge(e.nodeName);if(Nt("uponSanitizeElement",e,{tagName:n,allowedTags:Se}),e.hasChildNodes()&&!_t(e.firstElementChild)&&(!_t(e.content)||!_t(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return yt(e),!0;if("select"===n&&A(/<template/i,e.innerHTML))return yt(e),!0;if(!Se[n]||Ie[n]){if(!Ie[n]&&St(n)){if(Le.tagNameCheck instanceof RegExp&&A(Le.tagNameCheck,n))return!1;if(Le.tagNameCheck instanceof Function&&Le.tagNameCheck(n))return!1}if(qe&&!$e[n]){var o=ne(e)||e.parentNode,a=ie(e)||e.childNodes;if(a&&o)for(var s=a.length-1;s>=0;--s)o.insertBefore(ee(a[s],!0),te(e))}return yt(e),!0}return e instanceof d&&!function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:nt,tagName:"template"});var i=E(e.tagName),n=E(t.tagName);return!!ot[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===it?"svg"===i:t.namespaceURI===et?"svg"===i&&("annotation-xml"===n||ut[n]):Boolean(mt[i]):e.namespaceURI===et?t.namespaceURI===it?"math"===i:t.namespaceURI===tt?"math"===i&&pt[n]:Boolean(gt[i]):e.namespaceURI===it?!(t.namespaceURI===tt&&!pt[n])&&!(t.namespaceURI===et&&!ut[n])&&!gt[i]&&(ft[i]||!mt[i]):!("application/xhtml+xml"!==me||!ot[e.namespaceURI]))}(e)?(yt(e),!0):"noscript"!==n&&"noembed"!==n||!A(/<\/no(script|embed)/i,e.innerHTML)?(Me&&3===e.nodeType&&(t=e.textContent,t=x(t,ye," "),t=x(t,be," "),t=x(t,ve," "),e.textContent!==t&&(v(r.removed,{element:e.cloneNode()}),e.textContent=t)),Nt("afterSanitizeElements",e,null),!1):(yt(e),!0)},Tt=function(e,t,i){if(We&&("id"===t||"name"===t)&&(i in a||i in ct))return!1;if(ke&&!Oe[t]&&A(Ee,t));else if(De&&A(_e,t));else if(!we[t]||Oe[t]){if(!(St(e)&&(Le.tagNameCheck instanceof RegExp&&A(Le.tagNameCheck,e)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(e))&&(Le.attributeNameCheck instanceof RegExp&&A(Le.attributeNameCheck,t)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(t))||"is"===t&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&A(Le.tagNameCheck,i)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(i))))return!1}else if(Ze[t]);else if(A(Te,x(i,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==T(i,"data:")||!Ke[e])if(Pe&&!A(Ne,x(i,xe,"")));else if(i)return!1;return!0},St=function(e){return e.indexOf("-")>0},At=function(t){var i,n,o,a;Nt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we};for(a=s.length;a--;){var c=i=s[a],h=c.name,d=c.namespaceURI;if(n="value"===h?i.value:S(i.value),o=ge(h),l.attrName=o,l.attrValue=n,l.keepAttr=!0,l.forceKeepAttr=void 0,Nt("uponSanitizeAttribute",t,l),n=l.attrValue,!l.forceKeepAttr&&(bt(h,t),l.keepAttr))if(Re||!A(/\/>/i,n)){Me&&(n=x(n,ye," "),n=x(n,be," "),n=x(n,ve," "));var u=ge(t.nodeName);if(Tt(u,o,n)){if(!ze||"id"!==o&&"name"!==o||(bt(h,t),n="user-content-"+n),oe&&"object"===e(C)&&"function"==typeof C.getAttributeType)if(d);else switch(C.getAttributeType(u,o)){case"TrustedHTML":n=oe.createHTML(n);break;case"TrustedScriptURL":n=oe.createScriptURL(n)}try{d?t.setAttributeNS(d,h,n):t.setAttribute(h,n),b(r.removed)}catch(e){}}}else bt(h,t)}Nt("afterSanitizeAttributes",t,null)}},wt=function e(t){var i,n=Et(t);for(Nt("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)Nt("uponSanitizeShadowNode",i,null),xt(i)||(i.content instanceof s&&e(i.content),At(i));Nt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(t){var n,a,l,h,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((rt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!_t(t)){if("function"!=typeof t.toString)throw w("toString is not a function");if("string"!=typeof(t=t.toString()))throw w("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(i.toStaticHTML)||"function"==typeof i.toStaticHTML){if("string"==typeof t)return i.toStaticHTML(t);if(_t(t))return i.toStaticHTML(t.outerHTML)}return t}if(Be||dt(u),r.removed=[],"string"==typeof t&&(Xe=!1),Xe){if(t.nodeName){var p=ge(t.nodeName);if(!Se[p]||Ie[p])throw w("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof c)1===(a=(n=vt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!Fe&&!Me&&!Ue&&-1===t.indexOf("<"))return oe&&Ge?oe.createHTML(t):t;if(!(n=vt(t)))return Fe?null:Ge?ae:""}n&&He&&yt(n.firstChild);for(var f=Et(Xe?t:n);l=f.nextNode();)3===l.nodeType&&l===h||xt(l)||(l.content instanceof s&&wt(l.content),At(l),h=l);if(h=null,Xe)return t;if(Fe){if(je)for(d=he.call(n.ownerDocument);n.firstChild;)d.appendChild(n.firstChild);else d=n;return(we.shadowroot||we.shadowrootmod)&&(d=ue.call(o,d,!0)),d}var m=Ue?n.outerHTML:n.innerHTML;return Ue&&Se["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&A(J,n.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+m),Me&&(m=x(m,ye," "),m=x(m,be," "),m=x(m,ve," ")),oe&&Ge?oe.createHTML(m):m},r.setConfig=function(e){dt(e),Be=!0},r.clearConfig=function(){lt=null,Be=!1},r.isValidAttribute=function(e,t,i){lt||dt({});var n=ge(e),r=ge(t);return Tt(n,r,i)},r.addHook=function(e,t){"function"==typeof t&&(fe[e]=fe[e]||[],v(fe[e],t))},r.removeHook=function(e){if(fe[e])return b(fe[e])},r.removeHooks=function(e){fe[e]&&(fe[e]=[])},r.removeAllHooks=function(){fe={}},r}()}()},509:function(e,t,i){!function(t,n){e.exports?e.exports=n(t,i(172),i(83)):t.Draggabilly=n(t,t.getSize,t.Unidragger)}("undefined"!=typeof window?window:this,(function(e,t,i){let n=e.jQuery;function r(e,t){this.element="string"==typeof e?document.querySelector(e):e,n&&(this.$element=n(this.element)),this.options={},this.option(t),this._create()}let o=r.prototype=Object.create(i.prototype);o.option=function(e){this.options={...this.options,...e}};const a=["relative","absolute","fixed"];o._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition={...this.position};let e=getComputedStyle(this.element);a.includes(e.position)||(this.element.style.position="relative"),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.setHandles(),this.enable()},o.setHandles=function(){let{handle:e}=this.options;"string"==typeof e?this.handles=this.element.querySelectorAll(e):"object"==typeof e&&e.length?this.handles=e:e instanceof HTMLElement?this.handles=[e]:this.handles=[this.element]};const s=["dragStart","dragMove","dragEnd"];let l=o.emitEvent;function c(e,t,i){return t?(i=i||"round",Math[i](e/t)*t):e}o.emitEvent=function(t,i){if(!this.isEnabled&&s.includes(t))return;l.call(this,t,i);let n,r=e.jQuery;if(!r||!this.$element)return;let o=i;i&&i[0]instanceof Event&&([n,...o]=i);let a=r.Event(n);a.type=t,this.$element.trigger(a,o)},o._getPosition=function(){let e=getComputedStyle(this.element),t=this._getPositionCoord(e.left,"width"),i=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t,this.position.y=isNaN(i)?0:i,this._addTransformPosition(e)},o._getPositionCoord=function(e,i){if(e.includes("%")){let n=t(this.element.parentNode);return n?parseFloat(e)/100*n[i]:0}return parseInt(e,10)},o._addTransformPosition=function(e){let t=e.transform;if(!t.startsWith("matrix"))return;let i=t.split(","),n=t.startsWith("matrix3d")?12:4,r=parseInt(i[n],10),o=parseInt(i[n+1],10);this.position.x+=r,this.position.y+=o},o.handlePointerDown=function(e,t){this.isEnabled&&(this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},e.preventDefault(),document.activeElement.blur(),this.bindActivePointerEvents(e),this.element.classList.add("is-pointer-down"))},o.handleDragStart=function(){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.animate())},o.measureContainment=function(){let e=this.getContainer();if(!e)return;let i=t(this.element),n=t(e),{borderLeftWidth:r,borderRightWidth:o,borderTopWidth:a,borderBottomWidth:s}=n,l=this.element.getBoundingClientRect(),c=e.getBoundingClientRect(),h=r+o,d=a+s,u=this.relativeStartPosition={x:l.left-(c.left+r),y:l.top-(c.top+a)};this.containSize={width:n.width-h-u.x-i.width,height:n.height-d-u.y-i.height}},o.getContainer=function(){let e=this.options.containment;if(e)return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):this.element.parentNode},o.handleDragMove=function(e,t,i){if(!this.isEnabled)return;let n=i.x,r=i.y,o=this.options.grid,a=o&&o[0],s=o&&o[1];n=c(n,a),r=c(r,s),n=this.containDrag("x",n,a),r=this.containDrag("y",r,s),n="y"==this.options.axis?0:n,r="x"==this.options.axis?0:r,this.position.x=this.startPosition.x+n,this.position.y=this.startPosition.y+r,this.dragPoint.x=n,this.dragPoint.y=r},o.containDrag=function(e,t,i){if(!this.options.containment)return t;let n="x"==e?"width":"height",r=c(-this.relativeStartPosition[e],i,"ceil"),o=this.containSize[n];return o=c(o,i,"floor"),Math.max(r,Math.min(o,t))},o.handlePointerUp=function(){this.element.classList.remove("is-pointer-down")},o.handleDragEnd=function(){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"))},o.animate=function(){this.isDragging&&(this.positionDrag(),requestAnimationFrame((()=>this.animate())))},o.setLeftTop=function(){let{x:e,y:t}=this.position;this.element.style.left=`${e}px`,this.element.style.top=`${t}px`},o.positionDrag=function(){let{x:e,y:t}=this.dragPoint;this.element.style.transform=`translate3d(${e}px, ${t}px, 0)`},o.setPosition=function(e,t){this.position.x=e,this.position.y=t,this.setLeftTop()},o.enable=function(){this.isEnabled||(this.isEnabled=!0,this.bindHandles())},o.disable=function(){this.isEnabled&&(this.isEnabled=!1,this.isDragging&&this.dragEnd(),this.unbindHandles())};const h=["transform","left","top","position"];return o.destroy=function(){this.disable(),h.forEach((e=>{this.element.style[e]=""})),this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},o._init=function(){},n&&n.bridget&&n.bridget("draggabilly",r),r}))},937:function(e){var t,i;t="undefined"!=typeof window?window:this,i=function(){function e(){}let t=e.prototype;return t.on=function(e,t){if(!e||!t)return this;let i=this._events=this._events||{},n=i[e]=i[e]||[];return n.includes(t)||n.push(t),this},t.once=function(e,t){if(!e||!t)return this;this.on(e,t);let i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this},t.off=function(e,t){let i=this._events&&this._events[e];if(!i||!i.length)return this;let n=i.indexOf(t);return-1!=n&&i.splice(n,1),this},t.emitEvent=function(e,t){let i=this._events&&this._events[e];if(!i||!i.length)return this;i=i.slice(0),t=t||[];let n=this._onceEvents&&this._onceEvents[e];for(let r of i)n&&n[r]&&(this.off(e,r),delete n[r]),r.apply(this,t);return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e},e.exports?e.exports=i():t.EvEmitter=i()},541:function(e,t,i){var n,r,o;o=function(){var e="retain",t="first",i=document,n={}.hasOwnProperty;function r(){return o.apply(null,arguments)||a.apply(null,arguments)}function o(e,t,i,n,o){if(t&&!t.nodeType&&arguments.length<=2)return!1;var s,l="function"==typeof i;l&&(s=i,i=function(e,t){return s(e.text,t.startIndex)});var c=a(t,{find:e,wrap:l?null:i,replace:l?i:"$"+(n||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(n>0){var i=e[n];e.index+=e[0].indexOf(i),e[0]=i}return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},filterElements:o});return r.revert=function(){return c.revert()},!0}function a(e,t){return new s(e,t)}function s(t,i){var o=i.preset&&r.PRESETS[i.preset];if(i.portionMode=i.portionMode||e,o)for(var a in o)n.call(o,a)&&!n.call(i,a)&&(i[a]=o[a]);this.node=t,this.options=i,this.prepMatch=i.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}return r.NON_PROSE_ELEMENTS={br:1,hr:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1},r.NON_CONTIGUOUS_PROSE_ELEMENTS={address:1,article:1,aside:1,blockquote:1,dd:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,nav:1,noscript:1,ol:1,output:1,p:1,pre:1,section:1,ul:1,br:1,li:1,summary:1,dt:1,details:1,rp:1,rt:1,rtc:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1,table:1,tbody:1,thead:1,th:1,tr:1,td:1,caption:1,col:1,tfoot:1,colgroup:1},r.NON_INLINE_PROSE=function(e){return n.call(r.NON_CONTIGUOUS_PROSE_ELEMENTS,e.nodeName.toLowerCase())},r.PRESETS={prose:{forceContext:r.NON_INLINE_PROSE,filterElements:function(e){return!n.call(r.NON_PROSE_ELEMENTS,e.nodeName.toLowerCase())}}},r.Finder=s,s.prototype={search:function(){var e,t=0,i=0,n=this.options.find,r=this.getAggregateText(),o=[],a=this;return n="string"==typeof n?RegExp(String(n).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"):n,function r(s){for(var l=0,c=s.length;l<c;++l){var h=s[l];if("string"==typeof h){if(n.global)for(;e=n.exec(h);)o.push(a.prepMatch(e,t++,i));else(e=h.match(n))&&o.push(a.prepMatch(e,0,i));i+=h.length}else r(h)}}(r),o},prepMatch:function(e,t,i){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return e.endIndex=i+e.index+e[0].length,e.startIndex=i+e.index,e.index=t,e},getAggregateText:function(){var e=this.options.filterElements,t=this.options.forceContext;return function i(n){if(n.nodeType===Node.TEXT_NODE)return[n.data];if(e&&!e(n))return[];var r=[""],o=0;if(n=n.firstChild)do{if(n.nodeType!==Node.TEXT_NODE){var a=i(n);t&&n.nodeType===Node.ELEMENT_NODE&&(!0===t||t(n))?(r[++o]=a,r[++o]=""):("string"==typeof a[0]&&(r[o]+=a.shift()),a.length&&(r[++o]=a,r[++o]=""))}else r[o]+=n.data}while(n=n.nextSibling);return r}(this.node)},processMatches:function(){var e,t,i,n=this.matches,r=this.node,o=this.options.filterElements,a=[],s=r,l=n.shift(),c=0,h=0,d=[r];e:for(;;){if(s.nodeType===Node.TEXT_NODE&&(!t&&s.length+c>=l.endIndex?t={node:s,index:h++,text:s.data.substring(l.startIndex-c,l.endIndex-c),indexInMatch:0===c?0:c-l.startIndex,indexInNode:l.startIndex-c,endIndexInNode:l.endIndex-c,isEnd:!0}:e&&a.push({node:s,index:h++,text:s.data,indexInMatch:c-l.startIndex,indexInNode:0}),!e&&s.length+c>l.startIndex&&(e={node:s,index:h++,indexInMatch:0,indexInNode:l.startIndex-c,endIndexInNode:l.endIndex-c,text:s.data.substring(l.startIndex-c,l.endIndex-c)}),c+=s.data.length),i=s.nodeType===Node.ELEMENT_NODE&&o&&!o(s),e&&t){if(s=this.replaceMatch(l,e,a,t),c-=t.node.data.length-t.endIndexInNode,e=null,t=null,a=[],h=0,!(l=n.shift()))break}else if(!i&&(s.firstChild||s.nextSibling)){s.firstChild?(d.push(s),s=s.firstChild):s=s.nextSibling;continue}for(;;){if(s.nextSibling){s=s.nextSibling;break}if((s=d.pop())===r)break e}}},revert:function(){for(var e=this.reverts.length;e--;)this.reverts[e]();this.reverts=[]},prepareReplacementString:function(e,i,n){var r=this.options.portionMode;return r===t&&i.indexInMatch>0?"":(e=e.replace(/\$(\d+|&|`|')/g,(function(e,t){var i;switch(t){case"&":i=n[0];break;case"`":i=n.input.substring(0,n.startIndex);break;case"'":i=n.input.substring(n.endIndex);break;default:i=n[+t]||""}return i})),r===t?e:i.isEnd?e.substring(i.indexInMatch):e.substring(i.indexInMatch,i.indexInMatch+i.text.length))},getPortionReplacementNode:function(e,t){var n=this.options.replace||"$&",r=this.options.wrap,o=this.options.wrapClass;if(r&&r.nodeType){var a=i.createElement("div");a.innerHTML=r.outerHTML||(new XMLSerializer).serializeToString(r),r=a.firstChild}if("function"==typeof n)return(n=n(e,t))&&n.nodeType?n:i.createTextNode(String(n));var s="string"==typeof r?i.createElement(r):r;return s&&o&&(s.className=o),(n=i.createTextNode(this.prepareReplacementString(n,e,t))).data&&s?(s.appendChild(n),s):n},replaceMatch:function(e,t,n,r){var o,a,s=t.node,l=r.node;if(s===l){var c=s;t.indexInNode>0&&(o=i.createTextNode(c.data.substring(0,t.indexInNode)),c.parentNode.insertBefore(o,c));var h=this.getPortionReplacementNode(r,e);return c.parentNode.insertBefore(h,c),r.endIndexInNode<c.length&&(a=i.createTextNode(c.data.substring(r.endIndexInNode)),c.parentNode.insertBefore(a,c)),c.parentNode.removeChild(c),this.reverts.push((function(){o===h.previousSibling&&o.parentNode.removeChild(o),a===h.nextSibling&&a.parentNode.removeChild(a),h.parentNode.replaceChild(c,h)})),h}o=i.createTextNode(s.data.substring(0,t.indexInNode)),a=i.createTextNode(l.data.substring(r.endIndexInNode));for(var d=this.getPortionReplacementNode(t,e),u=[],p=0,f=n.length;p<f;++p){var m=n[p],g=this.getPortionReplacementNode(m,e);m.node.parentNode.replaceChild(g,m.node),this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(m,g)),u.push(g)}var y=this.getPortionReplacementNode(r,e);return s.parentNode.insertBefore(o,s),s.parentNode.insertBefore(d,s),s.parentNode.removeChild(s),l.parentNode.insertBefore(y,l),l.parentNode.insertBefore(a,l),l.parentNode.removeChild(l),this.reverts.push((function(){o.parentNode.removeChild(o),d.parentNode.replaceChild(s,d),a.parentNode.removeChild(a),y.parentNode.replaceChild(l,y)})),y}},r},e.exports?e.exports=o():void 0===(r="function"==typeof(n=o)?n.call(t,i,t,e):n)||(e.exports=r)},172:e=>{!function(t,i){e.exports?e.exports=i():t.getSize=i()}(window,(function(){function e(e){let t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}let t=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];return t.length,function(i){if("string"==typeof i&&(i=document.querySelector(i)),!i||"object"!=typeof i||!i.nodeType)return;let n=getComputedStyle(i);if("none"==n.display)return function(){let e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return t.forEach((t=>{e[t]=0})),e}();let r={};r.width=i.offsetWidth,r.height=i.offsetHeight;let o=r.isBorderBox="border-box"==n.boxSizing;t.forEach((e=>{let t=n[e],i=parseFloat(t);r[e]=isNaN(i)?0:i}));let a=r.paddingLeft+r.paddingRight,s=r.paddingTop+r.paddingBottom,l=r.marginLeft+r.marginRight,c=r.marginTop+r.marginBottom,h=r.borderLeftWidth+r.borderRightWidth,d=r.borderTopWidth+r.borderBottomWidth,u=e(n.width);!1!==u&&(r.width=u+(o?0:a+h));let p=e(n.height);return!1!==p&&(r.height=p+(o?0:s+d)),r.innerWidth=r.width-(a+h),r.innerHeight=r.height-(s+d),r.outerWidth=r.width+l,r.outerHeight=r.height+c,r}}))},83:function(e,t,i){!function(t,n){e.exports?e.exports=n(t,i(937)):t.Unidragger=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){function i(){}let n,r,o=i.prototype=Object.create(t.prototype);o.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},"ontouchstart"in e?(n="touchstart",r=["touchmove","touchend","touchcancel"]):e.PointerEvent?(n="pointerdown",r=["pointermove","pointerup","pointercancel"]):(n="mousedown",r=["mousemove","mouseup"]),o.touchActionValue="none",o.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},o.unbindHandles=function(){this._bindHandles("removeEventListener","")},o._bindHandles=function(t,i){this.handles.forEach((r=>{r[t](n,this),r[t]("click",this),e.PointerEvent&&(r.style.touchAction=i)}))},o.bindActivePointerEvents=function(){r.forEach((t=>{e.addEventListener(t,this)}))},o.unbindActivePointerEvents=function(){r.forEach((t=>{e.removeEventListener(t,this)}))},o.withPointer=function(e,t){t.pointerId===this.pointerIdentifier&&this[e](t,t)},o.withTouch=function(e,t){let i;for(let e of t.changedTouches)e.identifier===this.pointerIdentifier&&(i=e);i&&this[e](t,i)},o.onmousedown=function(e){this.pointerDown(e,e)},o.ontouchstart=function(e){this.pointerDown(e,e.changedTouches[0])},o.onpointerdown=function(e){this.pointerDown(e,e)};const a=["TEXTAREA","INPUT","SELECT","OPTION"],s=["radio","checkbox","button","submit","image","file"];return o.pointerDown=function(e,t){let i=a.includes(e.target.nodeName),n=s.includes(e.target.type),r=!i||n;!this.isPointerDown&&!e.button&&r&&(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this.bindActivePointerEvents(),this.emitEvent("pointerDown",[e,t]))},o.onmousemove=function(e){this.pointerMove(e,e)},o.onpointermove=function(e){this.withPointer("pointerMove",e)},o.ontouchmove=function(e){this.withTouch("pointerMove",e)},o.pointerMove=function(e,t){let i={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[e,t,i]),!this.isDragging&&this.hasDragStarted(i)&&this.dragStart(e,t),this.isDragging&&this.dragMove(e,t,i)},o.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},o.dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[e,t])},o.dragMove=function(e,t,i){this.emitEvent("dragMove",[e,t,i])},o.onmouseup=function(e){this.pointerUp(e,e)},o.onpointerup=function(e){this.withPointer("pointerUp",e)},o.ontouchend=function(e){this.withTouch("pointerUp",e)},o.pointerUp=function(e,t){this.pointerDone(),this.emitEvent("pointerUp",[e,t]),this.isDragging?this.dragEnd(e,t):this.staticClick(e,t)},o.dragEnd=function(e,t){this.isDragging=!1,setTimeout((()=>delete this.isPreventingClicks)),this.emitEvent("dragEnd",[e,t])},o.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},o.onpointercancel=function(e){this.withPointer("pointerCancel",e)},o.ontouchcancel=function(e){this.withTouch("pointerCancel",e)},o.pointerCancel=function(e,t){this.pointerDone(),this.emitEvent("pointerCancel",[e,t])},o.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},o.staticClick=function(e,t){let i="mouseup"===e.type;i&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[e,t]),i&&(this.isIgnoringMouseUp=!0,setTimeout((()=>{delete this.isIgnoringMouseUp}),400)))},i}))}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=i(126),t=i(368),n=i.n(t),r=i(541),o=i.n(r),a=i(509),s=i.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==l(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===l(r)?r:String(r)),n)}var r}var h=function(){function e(t){var i=t.mode,n=t.interfaceLang,r=t.contentLang,o=t.popupStyles,a=t.debug,s=t.reportCitation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mode=i,this.interfaceLang=n,this.contentLang=r,this.popupStyles=o,this.debug=a,this.reportCitation=s,this.popUpElem=null,this.heTitle=null,this.enTitle=null,this.heElems=null,this.enElems=null,this.triggerLink=null,this.hidePopup=this.hidePopup.bind(this)}var t,i;return t=e,(i=[{key:"setupPopup",value:function(){var e=this;this.category_colors={Commentary:"#4871bf",Tanakh:"#004e5f",Midrash:"#5d956f",Mishnah:"#5a99b7",Talmud:"#ccb479",Halakhah:"#802f3e",Kabbalah:"#594176",Philosophy:"#7f85a9","Jewish Thought":"#7f85a9",Liturgy:"#ab4e66",Tanaitic:"#00827f",Tosefta:"#00827f",Parshanut:"#9ab8cb",Chasidut:"#97b386",Musar:"#7c406f",Responsa:"#cb6158",Apocrypha:"#c7a7b4","Second Temple":"#c7a7b4",Other:"#073570","Quoting Commentary":"#cb6158",Sheets:"#7c406f",Community:"#7c406f",Targum:"#7f85a9","Modern Works":"#7c406f","Modern Commentary":"#7c406f"},this.popUpElem=document.createElement("div"),this.popUpElem.id="sefaria-popup",this.popUpElem.classList.add("interface-"+this.interfaceLang),this.popUpElem.classList.add("content-"+this.contentLang);var t="";t+="<style scoped>@import url(\"https://fonts.googleapis.com/css?family=Crimson+Text:ital,wght@0,400;0,700;1,400;1,700|Frank+Ruhl+Libre|Heebo\");#sefaria-popup {width: 400px;max-width: 90%;max-height: 560px;font-size: 16px;border-left: 1px #ddd solid;border-right: 1px #ddd solid;border-bottom: 1px #ddd solid;background-color: #fff;color: #222222;}.sefaria-text .en, .sefaria-text .he {padding: 10px 20px;text-align: justify;font-weight: normal}.sefaria-text {max-height: 430px;overflow-y: auto;overflow-x: hidden;}.sefaria-text:focus {outline: none;}#sefaria-title {font-size: 18px;text-align: center;text-decoration: none;margin: 12px 0;padding: 0;}#sefaria-title .en {text-align: center;}#sefaria-title .he {text-align: center;}#sefaria-popup .en, #sefaria-popup .en * {font-family: \"Crimson Text\";font-size: 18px;line-height: 1.2;direction: ltr;}#sefaria-popup .he, #sefaria-popup .he * {font-family: \"Frank Ruhl Libre\";font-size: 21px;line-height: 1.5;direction: rtl;}.content-hebrew .sefaria-text .en {display: none;}.content-english .sefaria-text .he {display: none}.content-hebrew .sefaria-text .en.enOnly {display: block;}.content-english .sefaria-text .he.heOnly {display: block}.truncatedMessage {direction: ltr;margin-top: 10px;padding: 20px;color: #666;font-size: 14px;font-family: \"Helvetica Neue\", \"Helvetica\", sans-serif;}.interface-hebrew .truncatedMessage {direction: rtl;font-family: \"Heebo\", sans-serif;}#sefaria-logo {background: url(\"data:image/svg+xml,%3Csvg id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 340.96 93.15'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:none;%7D.cls-2%7Bclip-path:url(%23clip-path);%7D.cls-3%7Bfill:%23231f20;%7D%3C/style%3E%3CclipPath id='clip-path' transform='translate(-389 -337.85)'%3E%3Crect class='cls-1' x='389' y='337.85' width='340.96' height='93.15'/%3E%3C/clipPath%3E%3C/defs%3E%3Ctitle%3Esefarialogo%3C/title%3E%3Cg class='cls-2'%3E%3Cpath class='cls-3' d='M454,397.67c-2.41,11.31-10.59,16.11-28.82,16.11-44.79,0-28.92-36-22.66-43.42,2.63-3.29,4.47-6,11.15-6h12.71c17.72,0,21.1.84,25.54,9.9,2.4,4.88,3.79,15.41,2.08,23.43m4.81-22.48c-1.5-9.67-3.45-20.19-11.85-26-5.09-3.54-10.34-3.8-16.21-3.8-4,0-18.11-.17-24.29-.17-6,0-10-4.94-10-7.34-3.91,4.79-6.9,10.08-5.85,16.48.94,5.76,4.89,9.44,10.67,10.17-6.55,9.25-12.47,19.9-12.18,31.18.18,7.11,1.81,35.32,33.71,35.32h5.81c13.62,0,21.87-10.11,24.27-14,7.05-11.5,8.23-29.29,6-41.78' transform='translate(-389 -337.85)'/%3E%3Cpath class='cls-3' d='M722.79,402.89a12.32,12.32,0,0,1-9.74,5.06,11.59,11.59,0,0,1-11.78-11.7c0-6.19,4.53-11.7,11.4-11.7a12.78,12.78,0,0,1,10.12,5.06ZM723,414H730V378.51H723v3.24a16.65,16.65,0,0,0-11.1-4,16.87,16.87,0,0,0-8.69,2.27,19,19,0,0,0-.07,32.39,18.26,18.26,0,0,0,8.91,2.34,16.31,16.31,0,0,0,10.95-4ZM676,365.9a4.61,4.61,0,0,0,4.68,4.68,4.68,4.68,0,0,0,4.76-4.68,4.75,4.75,0,0,0-4.76-4.76A4.68,4.68,0,0,0,676,365.9M677.11,414h7.17V378.51h-7.17Zm-8.68-36a18.29,18.29,0,0,0-2.79-.23c-5.21,0-8.91,2.42-10.65,4.83v-4.07h-7V414h7.18V390.51c2-3.4,5.89-6,9.59-6a10.06,10.06,0,0,1,2.79.3ZM628,402.89A12.32,12.32,0,0,1,618.3,408a11.59,11.59,0,0,1-11.78-11.7c0-6.19,4.53-11.7,11.4-11.7A12.8,12.8,0,0,1,628,389.61Zm.22,11.1h7V378.51h-7v3.24a16.62,16.62,0,0,0-11.1-4,16.83,16.83,0,0,0-8.68,2.27,19,19,0,0,0-.07,32.39,18.2,18.2,0,0,0,8.91,2.34,16.3,16.3,0,0,0,10.94-4Zm-33.07-53.83a16.61,16.61,0,0,0-4.23-.53,13.88,13.88,0,0,0-11.62,5.89c-1.59,2.27-2.27,5.21-2.27,10v3h-8.3v6.41h8.3V414h7.18V384.92h10.94v-6.41H584.25v-3.25c0-3.25.37-5.06,1.35-6.34a7,7,0,0,1,5.44-2.49,11.64,11.64,0,0,1,2.64.3ZM546.65,384a9.92,9.92,0,0,1,9.36,7.7H536.68a10.31,10.31,0,0,1,10-7.7m16.76,13.74a14,14,0,0,0,.07-1.51c0-10.5-7.17-18.5-17.06-18.5s-17.29,7.85-17.29,18.5a18,18,0,0,0,18.35,18.5c7.24,0,12.3-3.25,14.95-6.65l-4.69-4.45a12.78,12.78,0,0,1-10.19,4.83,11.43,11.43,0,0,1-11.47-10.72Zm-75.58,8.15a23.68,23.68,0,0,0,18.5,8.84c9.21,0,16.38-6,16.38-15.33,0-6-3.32-9.74-6.87-12.08-6.79-4.53-18-6-18-12.68,0-4.61,4.38-7.1,8.75-7.1a14.55,14.55,0,0,1,9.44,3.62l4.46-5.51a21.76,21.76,0,0,0-14.2-5.28c-9.21,0-16,6.34-16,14,0,5.51,2.94,9.14,6.72,11.63,7,4.6,18.19,5.51,18.19,13.59,0,4.75-4.3,7.92-9.21,7.92-5.44,0-9.81-3-12.91-6.79Z' transform='translate(-389 -337.85)'/%3E%3C/g%3E%3C/svg%3E\") no-repeat;width: 70px;display: inline-block;margin-left: 3px;height: 18px;line-height: 18px;opacity: 0.6}.sefaria-footer {color: #999;padding:20px 20px 20px 20px;border-top: 1px solid #ddd;background-color: #FBFBFA;font-size: 12px;display: flex;justify-content: space-between;align-items: center;font-family: \"Helvetica Neue\", \"Helvetica\", sans-serif;}.sefaria-read-more-button {background-color: #fff;padding: 5px 10px;margin-top: -3px;border: 1px solid #ddd;border-radius: 5px;}.interface-hebrew .sefaria-powered-by-box {margin-top: -6px}.sefaria-read-more-button a {text-decoration: none;color: #666;}#sefaria-linker-header {border-top: 4px solid #ddd;border-bottom: 1px solid #ddd;background-color: #FBFBFA;text-align: center;padding-bottom: 3px;}.interface-hebrew .sefaria-footer {direction: rtl;font-family: \"Heebo\", sans-serif}#sefaria-popup.short-screen .sefaria-text{overflow-y: scroll;max-height: calc(100% - 117px);}span.sefaria-ref-wrapper{display: inline !important;}a.sefaria-ref-debug{border: 3px solid green;}a.sefaria-ref-debug.sefaria-link-failed{border: 3px solid red}a.sefaria-ref-debug.sefaria-link-ambiguous{border: 3px solid orange;}","popup-click"===this.mode?t+='#sefaria-close {    font-family: "Crimson Text";    font-size: 36px;    height: 48px;    line-height: 48px;    position: absolute;    top: 0px;    left: 20px;    cursor: pointer;    color: #999;    border: 0;    outline: none;}</style><div id="sefaria-close">×</div>':t+="</style>";var i={english:"Read More ›",hebrew:"קרא עוד ›"}[this.interfaceLang],n={english:"Powered by",hebrew:'<center>מונע ע"י<br></center>'}[this.interfaceLang];for(var r in t+='<div id="sefaria-linker-header"><div id="sefaria-title"><span class="he" dir="rtl"></span><span class="en"></span></div></div><div class="sefaria-text" id="sefaria-linker-text" tabindex="0"></div><div class="sefaria-footer"><div class="sefaria-powered-by-box">'+n+' <div id="sefaria-logo">&nbsp;</div></div>'+("popup-click"==this.mode?'<span class="sefaria-read-more-button"><a class = "sefaria-popup-ref" target="_blank" href = "">'+i+"</a></span>":"")+(this.debug?'<span class="sefaria-read-more-button" id="sefaria-report-btn"><a>Report</a></span>':"")+"</div>",this.popUpElem.innerHTML=t,this.popupStyles)this.popupStyles.hasOwnProperty(r)&&(this.popUpElem.style[r]=this.popupStyles[r]);this.popUpElem.style.position="fixed",this.popUpElem.style.overflow="hidden",this.popUpElem.style.display="none",this.popUpElem.style.zIndex=999999,this.popUpElem.setAttribute("role","dialog"),this.popUpElem.tabIndex="0",this.popUpElem.style.outline="none",this.popUpElem=document.body.appendChild(this.popUpElem),new(s())(this.popUpElem,{handle:"#sefaria-linker-header"}),this.linkerHeader=this.popUpElem.querySelector("#sefaria-linker-header"),this.linkerFooter=this.popUpElem.querySelector(".sefaria-footer"),this.textBox=this.popUpElem.querySelector(".sefaria-text"),this.heTitle=this.popUpElem.querySelector("#sefaria-title .he"),this.enTitle=this.popUpElem.querySelector("#sefaria-title .en"),this.heElems=this.popUpElem.querySelectorAll(".he"),this.enElems=this.popUpElem.querySelectorAll(".en"),"popup-click"===this.mode&&(this.popUpElem.querySelector("#sefaria-close").addEventListener("click",this.hidePopup,!1),this.popUpElem.addEventListener("keydown",(function(t){var i=t.which||t.keyCode;27===i?e.hidePopup():9===i&&t.preventDefault()})))}},{key:"showPopup",value:function(e,t){for(var i=t.ref,n=t.heRef,r=t.en,o=void 0===r?[]:r,a=t.he,s=void 0===a?[]:a,c=t.primaryCategory,h=t.isTruncated,d=void 0!==h&&h;this.textBox.firstChild;)this.textBox.removeChild(this.textBox.firstChild);this.triggerLink=e,this.linkerHeader.style["border-top-color"]=this.category_colors[c],"he"!==this.contentLang?(this.heTitle.style.display="None",[].forEach.call(this.enElems,(function(e){e.style.display="Block"}))):([].forEach.call(this.heElems,(function(e){e.style.display="Block"})),[].forEach.call(this.enElems,(function(e){e.style.display="None"}))),"string"==typeof o&&(o=[o],s=[s]),"object"===l(o)&&(o=[].concat.apply([],o),s=[].concat.apply([],s));for(var u=0;u<Math.max(o.length,s.length);u++){var p=document.createElement("div"),f=document.createElement("div");p.innerHTML=o[u]||"",f.innerHTML=(s[u]||"").replace(/[\u0591-\u05af\u05bd\u05bf\u05c0\u05c4\u05c5]/g,""),p.className="en"+(f.innerHTML?"":" enOnly"),f.className="he"+(p.innerHTML?"":" heOnly"),f.setAttribute("dir","rtl"),f.innerHTML&&this.textBox.appendChild(f),p.innerHTML&&this.textBox.appendChild(p)}if(d){var m=document.createElement("div");m.innerHTML="english"===this.interfaceLang?"Read the complete text on Sefaria":"לקריאת הטקסט המלא בספריא",m.className="truncatedMessage",this.textBox.appendChild(m)}this.enTitle.textContent=i,this.heTitle.textContent=n;var g=e.getBoundingClientRect();this.popUpElem.style.top=g.top>100?g.top-50+"px":g.top+30+"px",g.left<window.innerWidth/2?(this.popUpElem.style.left=g.right+10+"px",this.popUpElem.style.right="auto"):(this.popUpElem.style.left="auto",this.popUpElem.style.right=window.innerWidth-g.left+"px"),this.popUpElem.style.display="block";var y=this.popUpElem.getBoundingClientRect();if(y.height>window.innerHeight&&(this.popUpElem.classList.add("short-screen"),this.popUpElem.style.height=.9*window.innerHeight+"px"),window.innerHeight<y.bottom){var b=window.innerHeight-y.height-10;this.popUpElem.style.top=b>0?b+"px":"10px"}if(window.innerWidth<y.right||y.left<0){var v=(window.innerWidth-y.width)/2;this.popUpElem.style.left=v+"px",this.popUpElem.style.right="auto"}if("popup-click"===this.mode&&([].forEach.call(this.popUpElem.querySelectorAll(".sefaria-popup-ref"),(function(t){t.setAttribute("href",e.href)})),document.addEventListener("click",function(e){for(var t=e.target;t;t=t.parentNode)if(t.id===this.popUpElem.id)return;this.hidePopup()}.bind(this))),this.debug){var E=document.querySelector("#sefaria-report-btn");E.removeEventListener("click",this.currReportCitation,!1),this.currReportCitation=this.reportCitation.bind(null,e),E.addEventListener("click",this.currReportCitation,!1)}var _=this.popUpElem.clientWidth-this.textBox.clientWidth;if(_>0)for(var N=this.textBox.childNodes,x=0;x<N.length;x++)N[x].style.marginRight=-_+"px"}},{key:"hidePopup",value:function(){"block"===this.popUpElem.style.display&&this.triggerLink.focus(),this.popUpElem.style.display="none",this.popUpElem.classList.remove("short-screen"),this.popUpElem.style.height="auto"}},{key:"bindEventHandler",value:function(e,t,i){var n=this,r=window.location.hostname?window.location.hostname.replace(/^www\./,""):"(not%20set)",o=this.contentLang.substring(0,2),a="".concat(t,"/").concat(i.url,"?lang=").concat(o,"&utm_source=").concat(r,"&utm_medium=sefaria_linker");e.setAttribute("href",a),"popup-hover"===this.mode?(e.addEventListener("mouseover",(function(t){n.showPopup(e,i)}),!1),e.addEventListener("mouseout",this.hidePopup,!1)):"popup-click"===this.mode&&e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),n.showPopup(e,i),document.getElementById("sefaria-linker-text").focus()}),!1)}}])&&c(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==d(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===d(r)?r:String(r)),n)}var r}var p=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.excludeFromLinkingSelector=t,this.excludeFromTrackingSelector=i,this.excludedFromLinking={},this.excludedFromTracking={}}var t,i;return t=e,(i=[{key:"shouldExclude",value:function(e,t){for(var i=t,n=this.excludedFromLinking[e],r=this.excludedFromTracking[e];i&&(("A"===i.nodeName||this.excludeFromLinkingSelector&&i.matches&&i.matches(this.excludeFromLinkingSelector))&&(n=!0,this.excludedFromLinking[e]=!0),this.excludeFromTrackingSelector&&i.matches&&i.matches(this.excludeFromTrackingSelector)&&(r=!0,this.excludedFromTracking[e]=!0),!r||!n);)i=i.parentNode;return[n,r]}}])&&u(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,s=[],l=!0,c=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=E(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function E(e,t){if(e){if("string"==typeof e)return _(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}!function(t){function i(e){var t=n().sanitize(e,{USE_PROFILES:{html:!0}}),i=document.createElement("div");return i.innerHTML=t,i.textContent}function r(e){if(!t.whitelistSelectors||0===t.whitelistSelectors.length)return"";var n=document.querySelectorAll(t.whitelistSelectors.join(", "));return[].reduce.call(n,(function(t,n){var r=i(s(n));return e.indexOf(r)>-1?t:t+r}),"")}function a(e,t,i){var n="";if(!e||t<=0)return n;for(var r=e;n.length<t;){var o=null===(r=i?r.previousSibling:r.nextSibling)?a(e.parentNode,t-n.length,i):r.textContent;n=i?o+n:n+o}return i?n.slice(-t):n.slice(0,t)}function s(e){for(var t=0,i=["table","sup"];t<i.length;t++){var n,r=i[t],o=v(e.getElementsByTagName(r));try{for(o.s();!(n=o.n()).done;)n.value.remove()}catch(e){o.e(e)}finally{o.f()}}return e}function l(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e),t.normalize()}function c(e){var t="";!!o().NON_CONTIGUOUS_PROSE_ELEMENTS[e.nodeName.toLowerCase()]&&(t+="\n"),0===e.childNodes.length&&(t=e.innerHTML||e.textContent);var i,n=v(e.childNodes);try{for(n.s();!(i=n.n()).done;)t+=c(i.value)}catch(e){n.e(e)}finally{n.f()}return t}function d(e){var t=[];return o()(document,{preset:"prose",find:e,replace:function(e,i){return 0===e.index&&t.push([i.startIndex,i.endIndex]),e.text}}),t}function u(e){var t=e.match(/\S\s+/);return null===t||e.substring(0,t.index+1).indexOf("\n")>-1?-1:t.index+1}function f(e,t,i){for(var n=0;n<t;n++){var r=u(e.substring(i));if(-1===r)break;i+=r}return i}function m(e,t,i){var n=e.startChar,r=e.endChar;if(0===i)return{text:e.text,startChar:0};var o,a=f(t,i,r),s=(o=t,function(e){if(Array.isArray(e))return _(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||E(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse().join(""),l=t.length-f(s,i,t.length-n);return{text:t.substring(l,a),startChar:n-l}}function y(e,i,n,r,o,a,s){var l=document.createElement("a");return l.target="_blank",l.textContent=n,l.className="sefaria-ref",t.debug&&(l.className+=" sefaria-ref-debug",e&&(l.className+=" sefaria-link-failed"),o&&(l.className+=" sefaria-link-ambiguous")),l.setAttribute("data-result-index",a),l.setAttribute("data-result-key",s),e||(l.href="".concat(t.sefariaUrl,"/").concat(r),l.setAttribute("data-ref",i),l.setAttribute("aria-controls","sefaria-popup")),l}function N(e){return e.ok?e.json():(t.debug&&e.text().then((function(e){return alert(e)})),Promise.reject("API response not ok"))}function x(e){var i=performance.now(),n=0;t.debugData=[];for(var r=function(){var i=s[a];t.debugData=t.debugData.concat(e[i].debugData),e[i].results.map((function(r,a){!function(e,i,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:30;if(t.debug||!(e.linkFailed||e.refs.length>1)){var c=e.refs&&e.refs.map((function(e){return n[e].url}));document.normalize();for(var h=[],u=0,f=e.text,g=0,v=new p(t.excludeFromLinking,t.excludeFromTracking);(0===u||h.length>1)&&u<s;){var E=m(e,i,u);if(f=E.text,g=E.startChar,h=d(f),u+=1,f.length>=l)break}if(0===h.length||h.length>1&&f.length<l)t.debug&&console.log("MISSED",u,h.length,e);else{var _=h.map((function(e){var t=b(e,2),i=t[0];return t[1],g+i}));o()(document,{preset:"prose",find:e.text,replace:function(i,n){if(-1===_.indexOf(n.startIndex))return i.text;var o=n.startIndex+"|"+n.endIndex,s=b(v.shouldExclude(o,i.node),2),l=s[0];return s[1],l?i.text:function(e,i,n,r,o){if(!e||!t.debug&&e.length>1)return y(i.linkFailed,null,n,null,!1,r,o);if(1===e.length)return y(i.linkFailed,i.refs[0],n,e[0],!1,r,o);var a=document.createElement("span");a.className="sefaria-ref-wrapper";for(var s=0;s<e.length;s++){var l=0===s?n:"[".concat(s,"]"),c=y(i.linkFailed,i.refs[s],l,e[s],!0,r,o);a.appendChild(c)}return a}(c,e,i.text,r,a)}})}}}(r,t.normalizedInputText[i],e[i].refData,a+n,i)})),function(e,i){[].forEach.call(document.querySelectorAll('.sefaria-ref[data-result-key="'.concat(i,'"]')),(function(i){var n=i.getAttribute("data-ref");if(n||t.debug){var r=e[n]||{};r.ref=n,t.popupManager.bindEventHandler(i,t.sefariaUrl,r)}}))}(e[i].refData,i),n+=e[i].results.length},a=0,s=["title","body"];a<s.length;a++)r();var l=performance.now();t.debug&&alert("Linker results are ready! Took ".concat(l-i," ms to wrap. ").concat(n," citations wrapped"))}function T(e,i){var n=prompt("What is wrong with this citation?"),r=function(e,t){return[a(e,20,!0),a(e,20,!1)]}(e),o=b(r,2),s=o[0],l=o[1],c=e.getAttribute("data-result-index"),h={prevContext:s,nextContext:l,reason:n,citation:e.textContent,debugData:t.debugData[c],url:window.location.href};console.log("Report citation debug info:",h),fetch("".concat(t.sefariaUrl,"/api/find-refs/report"),{method:"POST",body:JSON.stringify(h)}).then(N)}function S(){var e=document.head.querySelector("link[rel~=canonical]");return e&&!t.dynamic?e.href:window.location.href}function A(){return(a=function(){var t=s(document.cloneNode(!0)),n=new e.Readability(t,{serializer:c}).parse();return{text:i(n.content),readableObj:n}}(),l=a.text,h=a.readableObj,t.normalizedInputText={body:l+r(l),title:h.title},n={metaDataForTracking:{url:S(),description:(o=document.head.querySelector("meta[name~=description]")||document.head.querySelector("meta[property~=description]")||document.head.querySelector("meta[name~='og:description']")||document.head.querySelector("meta[property~='og:description']")||document.head.querySelector("meta[name~='twitter:description']")||document.head.querySelector("meta[property~='twitter:description']"),o?o.content:""),title:document.title},version_preferences_by_corpus:t.versionPreferencesByCorpus,text:g({},t.normalizedInputText)},new Promise((function(e,i){var r,o;fetch((r={with_text:1,debug:0+t.debug,max_segments:t.maxParagraphs},o=Object.entries(r).map((function(e){var t=b(e,2),i=t[0],n=t[1];return"".concat(i,"=").concat(n)})).join("&"),"".concat(t.sefariaUrl,"/api/find-refs?").concat(o)),{method:"POST",body:JSON.stringify(n)}).then(N).then((function(t){return e(t)}))}))).then(x);var n,o,a,l,h}t.link=function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,i=e.excludeFromTracking,n=e.parenthesesOnly,r=e.quotationOnly;(t||i||n||r)&&console.warn("Deprecation warning: you are currently using at least one of the following deprecated options: `selector`, `excludeFromTracking`, `parenthesesOnly`, `quotationOnly`. These options no longer are used and you can safely remove them. See here for documentation: https://github.com/Sefaria/Sefaria-Project/wiki/Sefaria-Auto-Linker-v3")}(e);var i=function(e){return g(g({},{sefariaUrl:"https://www.sefaria.org",mode:"popup-click",whitelistSelector:null,excludeFromLinking:null,popupStyles:{},interfaceLang:"english",contentLang:"bilingual",dynamic:!1,hidePopupsOnMobile:!0,debug:!1,versionPreferencesByCorpus:null,selector:null,excludeFromTracking:null,parenthesesOnly:!1,quotationOnly:!1}),e)}(e);t.sefariaUrl=i.sefariaUrl,t.excludeFromLinking=i.excludeFromLinking,t.dynamic=i.dynamic,t.debug=i.debug,t.versionPreferencesByCorpus=i.versionPreferencesByCorpus,t.maxParagraphs=20,i.debug,function(){var e,t=v(document.querySelectorAll("a.sefaria-ref, span.sefaria-ref-wrapper"));try{for(t.s();!(e=t.n()).done;)l(e.value)}catch(e){t.e(e)}finally{t.f()}}();var n,r,o,a=function(e){var t=e.mode;return e.hidePopupsOnMobile?function(e){return window.innerWidth<700?"link":e}(t):t}(i);t.popupManager=new h(g({mode:a,reportCitation:T},i)),t.popupManager.setupPopup(),(n=i.whitelistSelector,o=(r=new URL(S()).host)?"".concat(t.sefariaUrl,"/api/websites/").concat(encodeURIComponent(r)):null,o?fetch(o).then(N).then((function(e){return e.whitelist_selectors||[]})).then((function(e){return n?e.concat([n]):e})):Promise.resolve([])).then((function(e){return t.whitelistSelectors=e})).then(A)}}(window.sefaria=window.sefaria||{})})()};
//# sourceMappingURL=linker.v3.js.map